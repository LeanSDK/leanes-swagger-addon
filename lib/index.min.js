"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=e(require("fs")),r=e(require("path")),n=e(require("crypto")),i=e(require("mime-types")),o=e(require("path-to-regexp")),a=e(require("joi-to-json-schema"));function c(e,t,r,n,i,o,a){try{var c=e[o](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,u,"next",e)}function u(e){c(o,n,i,a,u,"throw",e)}a(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?g(e):t}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return b(this,r)}}function v(e,t,r){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}return r}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=j(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw o}}}}function E(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function N(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var S=[].indexOf;module.exports=function(e){var c=e.NS,l=c.initializeMixin,d=c.meta,b=c.constant,j=(c.method,c.extend);return["SwaggerAddon",function(e){var c,O,P,z,D,x,q;return j("SwaggerFacadeMixin","Facade")(c=function(e){var t=e.NS,r=t.SWAGGER_ROUTER,n=t.SWAGGER_GATEWAY,i=t.initializeMixin,o=t.meta,a=t.method;t.Utils._,e.defineMixin("/mixins/SwaggerFacadeMixin.js",(function(e){var t,c,u,l,y;return i((y=l=function(e){m(i,e);var t=h(i);function i(){return s(this,i),t.apply(this,arguments)}return p(i,[{key:"initializeFacade",value:function(){v(f(i.prototype),"initializeFacade",this).apply(this,arguments),this.addCommand("SwaggerResource"),this.addProxy(r,"SwaggerRouter"),this.addProxy(n,"SwaggerGateway")}}]),i}(e),l.object={},N(c=y,"object",[o],(u=(u=Object.getOwnPropertyDescriptor(c,"object"))?u.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return u}}),c),N(c.prototype,"initializeFacade",[a],Object.getOwnPropertyDescriptor(c.prototype,"initializeFacade"),c.prototype),t=c))||t}))}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.partOf,f=c.mixin,d=c.nameBy,g=c.meta,b=c.Utils.statuses,v=b("conflict"),w=b("unauthorized"),j=b("upgrade required");p(t=y(e)(t=f(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionShema).body(e.itemSchema.required(),"\n          The ".concat(e.itemEntityName," to create.\n        ")).response(201,e.itemSchema,"\n          The created ".concat(e.itemEntityName,".\n        ")).error(v,"\n          The ".concat(e.itemEntityName," already\n          exists.\n        ")).error(w).error(j).summary("\n          Create a new ".concat(e.itemEntityName,"\n        ")).description("\n          Creates a new ".concat(e.itemEntityName,"\n          from the request body and\n          returns the saved document.\n        ")),e}return r}(u),o.__filename="/endpoints/CreateEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[g],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.partOf,f=c.mixin,d=c.nameBy,g=c.meta,b=c.Utils.statuses,v=b("unauthorized"),w=b("upgrade required");p(t=y(e)(t=f(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionSchema).queryParam("query",e.querySchema,"\n          The query for finding\n          ".concat(e.listEntityName,".\n        ")).response(e.listSchema,"\n          The ".concat(e.listEntityName,".\n        ")).error(v).error(w).summary("\n          List of filtered ".concat(e.listEntityName,"\n        ")).description("\n          Retrieves a list of filtered\n          ".concat(e.listEntityName," by using query.\n        ")),e}return r}(u),o.__filename="/endpoints/ListEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[g],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.partOf,f=c.mixin,d=c.nameBy,g=c.meta,b=c.Utils.statuses,v=b("not found"),w=b("unauthorized"),j=b("upgrade required");p(t=y(e)(t=f(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionSchema).response(e.itemSchema,"\n          The ".concat(e.itemEntityName,".\n        ")).error(v).error(w).error(j).summary("\n          Fetch the ".concat(e.itemEntityName,"\n        ")).description("\n          Retrieves the\n          ".concat(e.itemEntityName," by its key.\n        ")),e}return r}(u),o.__filename="/endpoints/DetailEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[g],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.partOf,f=c.meta,d=c.nameBy,g=c.mixin,b=c.Utils.statuses,v=b("not found"),w=b("conflict"),j=b("unauthorized"),O=b("upgrade required");p(t=y(e)(t=g(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionShema).body(e.itemSchema.required(),"\n          The data to replace the\n          ".concat(e.itemEntityName," with.\n        ")).response(e.itemSchema,"\n          The replaced ".concat(e.itemEntityName,".\n        ")).error(v).error(w).error(j).error(O).summary("\n          Replace the ".concat(e.itemEntityName,"\n        ")).description("\n          Replaces an existing\n          ".concat(e.itemEntityName," with the\n          request body and returns the new document.\n        ")),e}return r}(u),o.__filename="/endpoints/UpdateEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[f],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.partOf,f=c.mixin,d=c.nameBy,g=c.meta,b=c.Utils.statuses,v=b("not found"),w=b("unauthorized"),j=b("upgrade required");p(t=y(e)(t=f(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionShema).error(v).error(w).error(j).response(null).summary("\n          Hide a new ".concat(e.itemEntityName,"\n        ")).description("\n          Hide the ".concat(e.itemEntityName,"\n          from the database.\n        ")),e}return r}(u),o.__filename="/endpoints/DeleteEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[g],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.partOf,f=c.meta,d=(c.property,c.method,c.nameBy),g=c.mixin,b=c.Utils.statuses,v=b("not found"),w=b("unauthorized"),j=b("upgrade required");p(t=y(e)(t=g(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionSchema).error(v).error(w).error(j).response(null).summary("\n          Remove the ".concat(e.itemEntityName,"\n        ")).description("\n          Deletes the ".concat(e.itemEntityName,"\n          from the database.\n        ")),e}return r}(u),o.__filename="/endpoints/DestroyEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[f],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.partOf,f=c.mixin,d=c.nameBy,g=c.meta,b=c.Utils,v=b.statuses,w=b.joi,j=v("unauthorized"),O=v("upgrade required");p(t=y(e)(t=f(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionShema).queryParam("query",e.querySchema,"\n          The query for counting\n          ".concat(e.listEntityName,".\n        ")).response(w.numner(),"\n          The count of ".concat(e.listEntityName,"\n        ")).error(j).error(O).summary("\n          Count of filtered ".concat(e.listEntityName,"\n        ")).description("\n          Retrieves a count of filtered\n          ".concat(e.listEntityName," by using query.\n        ")),e}return r}(u),o.__filename="/endpoints/CountEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[g],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.partOf,f=c.mixin,d=c.nameBy,g=c.meta,b=c.Utils,v=b.statuses,w=b.joi,j=v("unauthorized"),O=v("upgrade required");p(t=y(e)(t=f(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionSchema).response(w.number(),"\n          The length of ".concat(e.listEntityName," collection.\n        ")).error(j).error(O).summary("\n          Length of ".concat(e.listEntityName," collecton\n        ")).description("\n          Retrieves a length of\n          ".concat(e.listEntityName," collection.\n        ")),e}return r}(u),o.__filename="/endpoints/LengthEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[g],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.partOf,f=c.mixin,d=c.nameBy,g=c.meta,b=c.Utils.statuses,v=b("unauthorized"),w=b("upgrade required");p(t=y(e)(t=f(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionShema).queryParam("query",e.querySchema,"\n          The query for finding\n          ".concat(e.listEntityName,".\n        ")).response(null).error(v).error(w).summary("\n          Hide of filtered ".concat(e.listEntityName,"\n        ")).description("\n          Hide a list of filtered\n          ".concat(e.listEntityName," by using query.\n        ")),e}return r}(u),o.__filename="/endpoints/BulkDeleteEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[g],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.partOf,f=c.mixin,d=c.nameBy,g=c.meta,b=c.Utils.statuses,v=b("unauthorized"),w=b("upgrade required");p(t=y(e)(t=f(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionShema).queryParam("query",e.querySchema,"\n          The query for finding\n          ".concat(e.listEntityName,".\n        ")).response(null).error(v).error(w).summary("\n          Remove of filtered ".concat(e.listEntityName,"\n        ")).description("\n          Remove a list of filtered\n          ".concat(e.listEntityName," by using query.\n        ")),e}return r}(u),o.__filename="/endpoints/BulkDestroyEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[g],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.mixin,f=c.partOf,d=c.nameBy,g=c.meta,b=c.Utils,v=b.statuses,w=b.joi,j=v("conflict"),O=v("unauthorized"),_=v("upgrade required");p(t=f(e)(t=y(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionSchema).header("Authorization",w.string().required(),"\n          Authorization header for internal services.\n        ").body(e.itemSchema.required(),"\n          The ".concat(e.itemEntityName," to create.\n        ")).response(201,e.itemScema,"\n          The created ".concat(e.itemEntityName,".\n        ")).error(j,"\n          The ".concat(e.itemEntityName," already\n          exists.\n        ")).error(O).error(_).summary("\n          Create a new ".concat(e.itemEntityName,"\n        ")).description("\n          Creates a new ".concat(e.itemEntityName,"\n          from the request body and\n          returns the saved document.\n        ")),e}return r}(u),o.__filename="/endpoints/ModelingCreateEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[g],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.partOf,f=c.meta,d=c.nameBy,g=c.mixin,b=c.Utils,v=b.statuses,w=b.joi,j=v("unauthorized"),O=v("upgrade required");p(t=y(e)(t=g(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionSchema).header("Authorization",w.string().required(),"\n          Authorization header for internal services.\n        ").queryParam("query",e.querySchema,"\n          The query for finding\n          ".concat(e.listEntityName,".\n        ")).response(e.listSchema,"\n          The ".concat(e.listEntityName,".\n        ")).error(j).error(O).summary("\n          List of filtered ".concat(e.listEntityName,"\n        ")).description("\n          Retrieves a list of filtered\n          ".concat(e.listEntityName," by using query.\n        ")),e}return r}(u),o.__filename="/endpoints/ModelingListEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[f],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.partOf,f=c.meta,d=c.nameBy,g=c.mixin,b=c.Utils,v=b.statuses,w=b.joi,j=v("not found"),O=v("unauthorized"),_=v("upgrade required");p(t=y(e)(t=g(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionSchema).header("Authorization",w.string().required(),"\n          Authorization header for internal services.\n        ").response(e.itemSchema,"\n          The ".concat(e.itemEntityName,".\n        ")).error(j).error(O).error(_).summary("\n          Fetch the ".concat(e.itemEntityName,"\n        ")).description("\n          Retrieves the\n          ".concat(e.itemEntityName," by its key.\n        ")),e}return r}(u),o.__filename="/endpoints/ModelingDetailEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[f],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.partOf,f=c.mixin,d=c.meta,g=c.nameBy,b=c.Utils,v=b.statuses,w=b.joi,j=v("not found"),O=v("conflict"),_=v("unauthorized"),E=v("upgrade required");p(t=y(e)(t=f(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionSchema).header("Authorization",w.string().required(),"\n          Authorization header for internal services.\n        ").body(e.itemSchema.required(),"\n          The data to replace the\n          ".concat(e.itemEntityName," with.\n        ")).response(e.itemSchema,"\n          The replaced ".concat(e.itemEntityName,".\n        ")).error(j).error(O).error(_).error(E).summary("\n          Replace the ".concat(e.itemEntityName,".\n        ")).description("\n          Replaces an existing\n          ".concat(e.itemEntityName," with the\n          request body and returns the new document.\n        ")),e}return r}(u),o.__filename="/endpoints/ModelingUpdateEndpoint.js",o.object={},N(r=a,"__filename",[g],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[d],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.mixin,f=c.partOf,d=c.nameBy,g=c.meta,b=c.Utils,v=b.statuses,w=b.joi,j=v("not found"),O=v("unauthorized"),_=v("upgrade required");p(t=f(e)(t=y(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionSchema).header("Authorization",w.string().required(),"\n          Authorization header for internal services.\n        ").error(j).error(O).error(_).response(null).summary("\n          Hide the ".concat(e.itemEntityName,"\n        ")).description("\n          Hide the ".concat(e.itemEntityName,"\n          from the database.\n        ")),e}return r}(u),o.__filename="/endpoints/ModelingDeleteEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[g],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.mixin,f=c.partOf,d=c.meta,g=c.nameBy,b=c.Utils,v=b.statuses,w=b.joi,j=v("not found"),O=v("unauthorized"),_=v("upgrade required");p(t=f(e)(t=y(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionSchema).header("Authorization",w.string().required(),"\n          Authorization header for internal services.\n        ").error(j).error(O).error(_).response(null).summary("\n          Remove the ".concat(e.itemEntityName,"\n        ")).description("\n          Deletes the ".concat(e.itemEntityName,"\n          from the database.\n        ")),e}return r}(u),o.__filename="/endpoints/ModelingDestroyEndpoint.js",o.object={},N(r=a,"__filename",[g],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[d],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.partOf,f=c.meta,d=c.nameBy,g=c.mixin,b=c.Utils,v=b.statuses,w=b.joi,j=v("unauthorized"),O=v("upgrade required");p(t=y(e)(t=g(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionSchema).header("Authorization",w.string().required(),"\n          Authorization header is required.\n        ").body(e.executeQuerySchema,"\n          The query for execute.\n        ").response(w.array().items(w.any()),"\n          Any result.\n        ").error(j).error(O).summary("\n          Execute some query\n        ").description("\n          This endpoint will been used from HttpCollectionMixin\n        "),e}return r}(u),o.__filename="/endpoints/ModelingQueryEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[f],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.partOf,f=c.mixin,d=c.nameBy,g=c.meta,b=c.Utils.statuses,v=b("unauthorized"),w=b("upgrade required");p(t=y(e)(t=f(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionSchema).header("Authorization",joi.string().required(),"\n          Authorization header for internal services.\n        ").queryParam("query",e.querySchema,"\n          The query for finding\n          ".concat(e.listEntityName,".\n        ")).response(null).error(v).error(w).summary("\n          Hide of filtered ".concat(e.listEntityName,"\n        ")).description("\n          Hide a list of filtered\n          ".concat(e.listEntityName," by using query.\n        ")),e}return r}(u),o.__filename="/endpoints/ModelingBulkDeleteEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[g],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.SwaggerEndpoint,l=c.CrudEndpointMixin,p=c.initialize,y=c.mixin,f=c.partOf,d=c.nameBy,g=c.meta,b=c.Utils.statuses,v=b("unauthorized"),w=b("upgrade required");p(t=f(e)(t=y(l)((a=o=function(e){m(r,e);var t=h(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).pathParam("v",e.versionSchema).header("Authorization",joi.string().required(),"\n          Authorization header for internal services.\n        ").queryParam("query",e.querySchema,"\n          The query for finding\n          ".concat(e.listEntityName,"\n        ")).response(null).error(v).eror(w).summary("\n          Remove of filtered ".concat(e.listEntityName,"\n        ")).description("\n          Remove a list of filtered\n          ".concat(e.listEntityName," by using query.\n        ")),e}return r}(u),o.__filename="/endpoints/ModelingBulkDestroyEndpoint.js",o.object={},N(r=a,"__filename",[d],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[g],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),t=r))||t)||t)}(c=function(e){var t=e.NS,r=t.initializeMixin,n=t.meta,i=t.method,o=t.Utils,a=o._,c=o.inflect;e.defineMixin("/mixins/ModelingGatewayMixin.js",(function(e){var t,o,u,l,y;return r((y=l=function(e){m(r,e);var t=h(r);function r(){return s(this,r),t.apply(this,arguments)}return p(r,[{key:"getStandardActionEndpoint",value:function(e,t){var r=a.startsWith(e.toLowerCase(),"modeling")?"Modeling".concat(c.camelize(t),"Endpoint"):"".concat(c.camelize(t),"Endpoint");return this.ApplicationModule.NS[r]||this.ApplicationModule.NS.Endpoint}}]),r}(e),l.object={},N(o=y,"object",[n],(u=(u=Object.getOwnPropertyDescriptor(o,"object"))?u.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return u}}),o),N(o.prototype,"getStandardActionEndpoint",[i],Object.getOwnPropertyDescriptor(o.prototype,"getStandardActionEndpoint"),o.prototype),t=o))||t}))}(c=function(e){var t=e.NS,r=t.initializeMixin,n=t.meta,i=t.property,o=t.method,a=t.Utils.inflect;e.defineMixin("/mixins/NamespacedGatewayMixin.js",(function(e){var t,c,u,l,y;return r((y=l=function(e){m(r,e);var t=h(r);function r(){return s(this,r),t.apply(this,arguments)}return p(r,[{key:"namespaces",value:function(){return["admining","globaling","guesting","modeling","personing","sharing"]}},{key:"getTrimmedEndpointName",value:function(e,t){var r="".concat(a.underscore(e),"_").concat(t,"_endpoint").replace(/\//g,"_").replace(/\_+/g,"_").replace(this.joinedNamespacesMask,"");return a.camelize(r)}},{key:"getEndpoint",value:function(e,t){return this.getEndpointByName(this.getEndpointName(e,t))||this.getEndpointByName(this.getTrimmedEndpointName(e,t))||this.getStandardActionEndpoint(e,t)}},{key:"joinedNamespacesMask",get:function(){return new RegExp("^(".concat(this.namespaces().join("|"),")_"))}}]),r}(e),l.object={},N(c=y,"object",[n],(u=(u=Object.getOwnPropertyDescriptor(c,"object"))?u.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return u}}),c),N(c.prototype,"namespaces",[o],Object.getOwnPropertyDescriptor(c.prototype,"namespaces"),c.prototype),N(c.prototype,"joinedNamespacesMask",[i],Object.getOwnPropertyDescriptor(c.prototype,"joinedNamespacesMask"),c.prototype),N(c.prototype,"getTrimmedEndpointName",[o],Object.getOwnPropertyDescriptor(c.prototype,"getTrimmedEndpointName"),c.prototype),N(c.prototype,"getEndpoint",[o],Object.getOwnPropertyDescriptor(c.prototype,"getEndpoint"),c.prototype),t=c))||t}))}(c=function(e){var t=e.NS,r=t.SwaggerEndpoint,n=t.initializeMixin,i=t.meta,o=t.property,a=(t.method,t.Utils),c=a._,u=a.joi,l=a.inflect;e.defineMixin("/mixins/CrudEndpointMixin.js",(function(e){var t,a,f,d,b,v,w,j,O;return n((O=j=function(e){m(n,e);var t=h(n);function n(){var e;s(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];E(e=t.call.apply(t,[this].concat(i)),"_keyName",d,g(e)),E(e,"_entityName",b,g(e)),E(e,"_recordName",v,g(e)),E(e,"_schema",w,g(e));var a,p=i[0],y=p.keyName,m=p.entityName,f=p.recordName;if(e._keyName=y,e._entityName=m,e._recordName=f,null!=f&&c.isString(f)){var h=(a=l.camelize(f),/Record$/.test(a)||(a+="Record"),a),j=null!=e.gateway?e.gateway.getSchema(h):e.ApplicationModule.NS[h].schema;e._schema=j}return null==e._schema&&(e._schema=u.object()),e}return p(n,[{key:"keyName",get:function(){var e=this._keyName||this._entityName;return null==r.keyNames[e]&&(r.keyNames[e]=l.singularize(l.underscore(e))),r.keyNames[e]}},{key:"itemEntityName",get:function(){var e=this._entityName;return null==r.itemEntityNames[e]&&(r.itemEntityNames[e]=l.singularize(l.underscore(e))),r.itemEntityNames[e]}},{key:"listEntityName",get:function(){var e=this._entityName;return null==r.listEntityNames[e]&&(r.listEntityNames[e]=l.pluralize(l.underscore(e))),r.listEntityNames[e]}},{key:"schema",get:function(){return this._schema}},{key:"listSchema",get:function(){var e="".concat(this._entityName,"|").concat(this._recordName);return null==r.listSchemas[e]&&(r.listSchemas[e]=u.object(y({meta:u.object()},"".concat(this.listEntityName),u.array().items(this.schema)))),r.listSchemas[e]}},{key:"itemSchema",get:function(){var e="".concat(this._entityName,"|").concat(this._recordName);return null==r.itemSchemas[e]&&(r.itemSchemas[e]=u.object(y({},"".concat(this.itemEntityName),this.schema))),r.itemSchemas[e]}},{key:"keySchema",get:function(){return u.string().required().description("The key of the objects.")}},{key:"querySchema",get:function(){return u.string().empty("{}").optional().default("{}","The query for finding objects.")}},{key:"executeQuerySchema",get:function(){return u.object({query:u.object().required()}).required()}},{key:"bulkResponseSchema",get:function(){return u.object({success:u.boolean()})}},{key:"versionSchema",get:function(){return u.string().required().description("The version of api endpoint in semver format `^x.x`")}},{key:"ApplicationModule",get:function(){return this.gateway&&this.gateway.ApplicationModule||this.Module}}]),n}(e),j.object={},N(a=O,"object",[i],(f=(f=Object.getOwnPropertyDescriptor(a,"object"))?f.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return f}}),a),d=N(a.prototype,"_keyName",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=N(a.prototype,"_entityName",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=N(a.prototype,"_recordName",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=N(a.prototype,"_schema",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N(a.prototype,"keyName",[o],Object.getOwnPropertyDescriptor(a.prototype,"keyName"),a.prototype),N(a.prototype,"itemEntityName",[o],Object.getOwnPropertyDescriptor(a.prototype,"itemEntityName"),a.prototype),N(a.prototype,"listEntityName",[o],Object.getOwnPropertyDescriptor(a.prototype,"listEntityName"),a.prototype),N(a.prototype,"schema",[o],Object.getOwnPropertyDescriptor(a.prototype,"schema"),a.prototype),N(a.prototype,"listSchema",[o],Object.getOwnPropertyDescriptor(a.prototype,"listSchema"),a.prototype),N(a.prototype,"itemSchema",[o],Object.getOwnPropertyDescriptor(a.prototype,"itemSchema"),a.prototype),N(a.prototype,"keySchema",[o],Object.getOwnPropertyDescriptor(a.prototype,"keySchema"),a.prototype),N(a.prototype,"querySchema",[o],Object.getOwnPropertyDescriptor(a.prototype,"querySchema"),a.prototype),N(a.prototype,"executeQuerySchema",[o],Object.getOwnPropertyDescriptor(a.prototype,"executeQuerySchema"),a.prototype),N(a.prototype,"bulkResponseSchema",[o],Object.getOwnPropertyDescriptor(a.prototype,"bulkResponseSchema"),a.prototype),N(a.prototype,"versionSchema",[o],Object.getOwnPropertyDescriptor(a.prototype,"versionSchema"),a.prototype),N(a.prototype,"ApplicationModule",[o],Object.getOwnPropertyDescriptor(a.prototype,"ApplicationModule"),a.prototype),t=a))||t}))}(c=function(e){var t,r,n,i,o,a,c,l,y,f,d,b,v,w,j,O,_,S,P,z,D,x,q=e.NS,A=q.CoreObject,k=q.assert,R=q.initialize,M=q.partOf,T=q.meta,B=q.property,C=q.method,U=q.nameBy,G=q.Utils;G.inflect,G.assign,R(t=M(e)((x=D=function(e){m(i,e);var t,r,n=h(i);function i(){var e;s(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];E(e=n.call.apply(n,[this].concat(r)),"gateway",f,g(e)),E(e,"tags",d,g(e)),E(e,"headers",b,g(e)),E(e,"pathParams",v,g(e)),E(e,"queryParams",w,g(e)),E(e,"payload",j,g(e)),E(e,"responses",O,g(e)),E(e,"errors",_,g(e)),E(e,"title",S,g(e)),E(e,"synopsis",P,g(e)),E(e,"isDeprecated",z,g(e));var a=r[0];return e.gateway=a.gateway,e}return p(i,[{key:"tag",value:function(e){return null==this.tags&&(this.tags=[]),this.tags.push(e),this}},{key:"header",value:function(e,t,r){return null==this.headers&&(this.headers=[]),this.headers.push({name:e,schema:t,description:r}),this}},{key:"pathParam",value:function(e,t,r){return null==this.pathParams&&(this.pathParams=[]),this.pathParams.push({name:e,schema:t,description:r}),this}},{key:"queryParam",value:function(e,t,r){return null==this.queryParams&&(this.queryParams=[]),this.queryParams.push({name:e,schema:t,description:r}),this}},{key:"body",value:function(e,t,r){return this.payload={schema:e,mimes:t,description:r},this}},{key:"response",value:function(e,t,r,n){return null==this.responses&&(this.responses=[]),this.responses.push({status:e,schema:t,mimes:r,description:n}),this}},{key:"error",value:function(e,t){return null==this.errors&&(this.errors=[]),this.errors.push({status:e,description:t}),this}},{key:"summary",value:function(e){return this.title=e,this}},{key:"description",value:function(e){return this.synopsis=e,this}},{key:"deprecated",value:function(e){return this.isDeprecated=e,this}}],[{key:"restoreObject",value:(r=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.fail("restoreObject method not supported for ".concat(this.name)));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"replicateObject",value:(t=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.fail("replicateObject method not supported for ".concat(this.name)));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),i}(A),D.__filename="/endpoints/SwaggerEndpoint.js",D.object={},D.keyNames={},D.itemEntityNames={},D.listEntityNames={},D.itemSchemas={},D.listSchemas={},N(r=x,"__filename",[U],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[T],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),N(r,"keyNames",[B],(o=(o=Object.getOwnPropertyDescriptor(r,"keyNames"))?o.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return o}}),r),N(r,"itemEntityNames",[B],(a=(a=Object.getOwnPropertyDescriptor(r,"itemEntityNames"))?a.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return a}}),r),N(r,"listEntityNames",[B],(c=(c=Object.getOwnPropertyDescriptor(r,"listEntityNames"))?c.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return c}}),r),N(r,"itemSchemas",[B],(l=(l=Object.getOwnPropertyDescriptor(r,"itemSchemas"))?l.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return l}}),r),N(r,"listSchemas",[B],(y=(y=Object.getOwnPropertyDescriptor(r,"listSchemas"))?y.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return y}}),r),f=N(r.prototype,"gateway",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=N(r.prototype,"tags",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=N(r.prototype,"headers",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=N(r.prototype,"pathParams",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=N(r.prototype,"queryParams",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=N(r.prototype,"payload",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=N(r.prototype,"responses",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=N(r.prototype,"errors",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=N(r.prototype,"title",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=N(r.prototype,"synopsis",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=N(r.prototype,"isDeprecated",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N(r.prototype,"tag",[C],Object.getOwnPropertyDescriptor(r.prototype,"tag"),r.prototype),N(r.prototype,"header",[C],Object.getOwnPropertyDescriptor(r.prototype,"header"),r.prototype),N(r.prototype,"pathParam",[C],Object.getOwnPropertyDescriptor(r.prototype,"pathParam"),r.prototype),N(r.prototype,"queryParam",[C],Object.getOwnPropertyDescriptor(r.prototype,"queryParam"),r.prototype),N(r.prototype,"body",[C],Object.getOwnPropertyDescriptor(r.prototype,"body"),r.prototype),N(r.prototype,"response",[C],Object.getOwnPropertyDescriptor(r.prototype,"response"),r.prototype),N(r.prototype,"error",[C],Object.getOwnPropertyDescriptor(r.prototype,"error"),r.prototype),N(r.prototype,"summary",[C],Object.getOwnPropertyDescriptor(r.prototype,"summary"),r.prototype),N(r.prototype,"description",[C],Object.getOwnPropertyDescriptor(r.prototype,"description"),r.prototype),N(r.prototype,"deprecated",[C],Object.getOwnPropertyDescriptor(r.prototype,"deprecated"),r.prototype),N(r,"restoreObject",[C],Object.getOwnPropertyDescriptor(r,"restoreObject"),r),N(r,"replicateObject",[C],Object.getOwnPropertyDescriptor(r,"replicateObject"),r),t=r))||t)}(c=function(e){var c,l,y,f,d,b,v,j,O,S,P,z,D,x,q=e.NS,A=q.APPLICATION_ROUTER,k=q.SWAGGER_GATEWAY,R=q.Resource,M=q.initialize,T=q.partOf,B=q.nameBy,C=q.meta,U=q.property,G=q.method,F=q.action,L=q.chains,H=q.inject,W=q.Utils,I=W._,J=W.joi,Q=W.statuses,$=J.object().keys({error:J.allow(!0).required(),errorNum:J.number().integer().optional(),errorMessage:J.string().optional(),code:J.number().integer().optional()}),Y="application/json";c=L(["index","spec","static"],(function(){})),l=T(e),y=H("Factory<".concat(A,">")),f=H("Factory<".concat(k,">")),M(d=c(d=l((x=D=function(e){m(d,e);var c,l,y,f=h(d);function d(){var e;s(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return E(e=f.call.apply(f,[this].concat(r)),"_appRouterFactory",P,g(e)),E(e,"_swaggerGatewayFactory",z,g(e)),e}return p(d,[{key:"index",value:(y=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.context.redirect("swagger/index.html");case 1:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"static",value:(l=u(regeneratorRuntime.mark((function e(){var n,o,a,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.context.url.split("swagger/"),o=n.slice(-1),a=w(o,1),c=a[0],u=r.join("/resources","..","..","swagger",c),this.context.status=200,this.context.respond=!1,this.context.type=i.lookup(c),t.createReadStream(u).pipe(this.context.res);case 8:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"spec",value:(c=u(regeneratorRuntime.mark((function e(){var t,r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.configs,r=t.name,i=t.description,o=t.license,a=t.version,null==this.constructor.specification&&(this.constructor.specification={swagger:"2.0",basePath:"",info:{title:r,description:i,version:a,license:{name:o}},paths:this.buildSwaggerPaths()},this.constructor.specEtag=n.createHash("sha1").update(JSON.stringify(this.constructor.specification)).digest("hex")),this.context.etag=this.constructor.specEtag,this.context.status=200,!this.context.fresh){e.next=7;break}return this.context.status=304,e.abrupt("return");case 7:return e.abrupt("return",this.constructor.specification);case 8:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"swaggerifyPath",value:function(e){return e.replace(/(?::)([^\/]*)/g,"{$1}").replace(/([*])/g,"{$1}").replace(/[\+]/g,"")}},{key:"buildSwaggerPaths",value:function(){var e=this,t={};return this._appRouter.routes.forEach((function(r){var n=r.method,i=r.path,a=r.resource,c=r.action,u=r.tag,s=(r.options,r.keyName),l=r.entityName,p=r.recordName;if(null==e._swaggerGateway)throw new Error("".concat(k," is absent in code"));var y=e._swaggerGateway.swaggerDefinitionFor(a,c,{keyName:s,entityName:l,recordName:p});if(null==y)throw new Error("Endpoint for ".concat(a,"#").concat(c," is absent in code"));for(var m=[],f=(o(i,m),0),d=m;f<d.length;f++){var g=d[f];y.pathParam(0===g.name?"*":g.name)}null!=u&&y.tag(u),i=e.swaggerifyPath(i),t[i]||(t[i]={});var b=t[i],h=e.buildOperation(y);b[n=n.toLowerCase()]||(b[n]=h)})),t}},{key:"buildOperation",value:function(e){var t={produces:[],parameters:[]};if(null!=e.isDeprecated&&(t.deprecated=e.isDeprecated),null!=e.synopsis&&(t.description=e.synopsis),null!=e.title&&(t.summary=e.title),null!=e.tags&&(t.tags=Array.from(null!=e.tags?e.tags:[])),null!=e.payload){var r=e.payload,n=r.schema,i=r.mimes,o=r.description;!I.isArray(n)&&I.isObject(n)&&I.isArray(i)&&I.isString(o)||(!I.isArray(n)&&I.isObject(n)&&I.isString(i)?(o=i,i=[Y]):I.isArray(n)&&I.isString(i)?(o=i,i=n,n=null):!I.isArray(n)&&I.isObject(n)&&I.isArray(i)?o=null:!I.isArray(n)&&I.isObject(n)?(o=null,i=[Y]):I.isArray(n)?(i=n,n=null,o=null):I.isString(n)&&(o=n,n=null,i=[])),t.consumes=i.slice();var a=null!=(n=null!=n?n.isJoi?n:n.schema:null)?this.swaggerifyBody(n,!1):{schema:{type:"string"}};a.name="body",a.in="body",null!=o&&(a.description=o),t.parameters.push(a)}t.responses={500:{description:"Default error response.",schema:this.joi2schema($)}};var c,u=_(null!=e.responses?e.responses:[]);try{for(u.s();!(c=u.n()).done;){var s=c.value,l=s.status,p=s.schema,y=s.mimes,m=s.description;(I.isNumber(l)||I.isString(l))&&!I.isArray(p)&&I.isObject(p)&&I.isArray(y)&&I.isString(m)||((I.isNumber(l)||I.isString(l))&&!I.isArray(p)&&I.isObject(p)&&I.isString(y)&&I.isNil(m)?(m=y,y=[Y]):(I.isNumber(l)||I.isString(l))&&I.isArray(p)&&I.isString(y)&&I.isNil(m)?(m=y,y=p,p=null):(I.isNumber(l)||I.isString(l))&&!I.isArray(p)&&I.isObject(p)&&I.isArray(y)&&I.isNil(m)?m=null:!I.isArray(l)&&I.isObject(l)&&I.isArray(p)&&I.isString(y)&&I.isNil(m)?(m=y,y=p,p=l,l=200):(I.isNumber(l)||I.isString(l))&&!I.isArray(p)&&I.isObject(p)&&I.isNil(y)&&I.isNil(m)?(m=null,y=[Y]):(I.isNumber(l)||I.isString(l))&&I.isArray(p)&&I.isNil(y)&&I.isNil(m)?(m=null,y=p,p=null):(I.isNumber(l)||I.isString(l))&&I.isString(p)&&I.isNil(y)&&I.isNil(m)?(m=p,y=[],p=null):!I.isArray(l)&&I.isObject(l)&&I.isArray(p)&&I.isNil(y)&&I.isNil(m)?(m=null,y=p,p=l,l=200):!I.isArray(l)&&I.isObject(l)&&I.isString(p)&&I.isNil(y)&&I.isNil(m)?(m=p,p=l,l=200,y=[Y]):I.isArray(l)&&I.isString(p)&&I.isNil(y)&&I.isNil(m)?(m=p,y=l,p=null,l=200):!I.isArray(l)&&I.isObject(l)&&I.isNil(p)&&I.isNil(y)&&I.isNil(m)?(p=l,l=200,m=null,y=[Y]):I.isArray(l)&&I.isNil(p)&&I.isNil(y)&&I.isNil(m)?(m=null,y=l,l=200,p=null):I.isString(l)&&I.isNil(p)&&I.isNil(y)&&I.isNil(m)&&(m=l,l=200,y=[],p=null)),null===l&&null==p?(l=204,I.isArray(y)||(m=y,y=[])):null===l&&null!=p?(l=200,I.isArray(y)||(m=y,y=[Y])):null!=l&&null==p?I.isArray(y)||(m=y,y=[]):null!=l&&null!=p&&(I.isArray(y)||(m=y,y=[Y]));var f,d=_(y);try{for(d.s();!(f=d.n()).done;){var g=f.value;t.produces.includes(g)||t.produces.push(g)}}catch(e){d.e(e)}finally{d.f()}p=null!=p?p.isJoi?p:p.schema:null;var b={};if(null!=y.length&&(b.schema=null!=p?this.joi2schema(p,!1):{type:"string"}),null!=(null!=p?p._description:void 0)&&(b.description=p._description,delete b.schema.description),null!=m&&(b.description=m),null==b.description){var h=Q[l];b.description=null!=h?"HTTP ".concat(l," ").concat(h,"."):null!=b.schema?"Nondescript ".concat(l," response."):"Nondescript ".concat(l," response without body.")}t.responses[l]=b}}catch(e){u.e(e)}finally{u.f()}var v,w=null!=e.errors?e.errors:[],j=_(w);try{for(j.s();!(v=j.n()).done;){var O=v.value,E=O.status,N=O.description,S={schema:this.joi2schema($,!1)};if(null!=N&&(S.description=N),null==S.description){var P=Q[E];S.description=null!=P?"HTTP ".concat(E," ").concat(P,"."):null!=S.schema?"Nondescript ".concat(E," response."):"Nondescript ".concat(E," response without body.")}t.responses[E]=S}}catch(e){j.e(e)}finally{j.f()}w>0&&(t.produces.includes(Y)||t.produces.push(Y)),t.produces.includes(Y)||t.produces.push(Y);var z,D=_(null!=e.pathParams?e.pathParams:[]);try{for(D.s();!(z=D.n()).done;){var x=z.value,q=x.name,A=x.schema,k=x.description;if(I.isString(A)&&(k=A,A=null),!I.some(t.parameters,{name:q})){var R=null!=A?this.swaggerifyParam(A.isJoi?A:J.object(A)):{type:"string"};R.name=q,R.in="path",R.required=!0,null!=k&&(R.description=k),t.parameters.push(R)}}}catch(e){D.e(e)}finally{D.f()}var M,T=_(null!=e.queryParams?e.queryParams:[]);try{for(T.s();!(M=T.n()).done;){var B=M.value,C=B.name,U=B.schema,G=B.description;if(I.isString(U)&&(G=U,U=null),!I.some(t.parameters,{name:C})){var F=null!=U?this.swaggerifyParam(U.isJoi?U:J.object(U)):{type:"string"};F.name=C,F.in="query",null!=G&&(F.description=G),t.parameters.push(F)}}}catch(e){T.e(e)}finally{T.f()}var L,H=_(null!=e.headers?e.headers:[]);try{for(H.s();!(L=H.n()).done;){var W=L.value,K=W.name,V=W.schema,X=W.description;if(I.isString(V)&&(X=V,V=null),!I.some(t.parameters,{name:K})){var Z=null!=V?this.swaggerifyParam(V.isJoi?V:J.object(V)):{type:"string"};Z.name=K,Z.in="header",null!=X&&(Z.description=X),t.parameters.push(Z)}}}catch(e){H.e(e)}finally{H.f()}return t}},{key:"swaggerifyType",value:function(e){switch(e._type){case"binary":return["string","binary"];case"boolean":return["boolean"];case"date":return["string","date-time"];case"func":return["string"];case"number":return e._tests.some((function(e){return"integer"===e.name}))?["integer"]:["number"];case"array":return["array"];case"object":return["object"];case"string":return e._meta.some((function(e){return e.secret}))?["string","password"]:["string"];default:return["string"]}}},{key:"swaggerifyParam",value:function(e){var t=e._description,r={required:"required"===e._presence,description:null!=t?t:void 0},n=r;e._meta.some((function(e){return e.allowMultiple}))&&(r.type="array",r.collectionFormat="multi",r.items={},n=r.items);var i=this.swaggerifyType(e);return n.type=i[0],i.length>1&&(n.format=i[1]),e._valids._set&&e._valids._set.length&&(n.enum=e._valids._set),"default"in e._flags&&(n.default=e._flags.default),r}},{key:"swaggerifyBody",value:function(e,t){var r=e._description;return{required:"required"===e._presence,description:null!=r?r:void 0,schema:this.joi2schema(e,t)}}},{key:"joi2schema",value:function(e,t){return a(t?J.array().items(e):e)}},{key:"_appRouter",get:function(){return this._appRouterFactory()}},{key:"_swaggerGateway",get:function(){return this._swaggerGatewayFactory()}}]),d}(R),D.__filename="/resources/SwaggerResource.js",D.object={},D.specification=null,D.specEtag=null,N(b=x,"__filename",[B],(v=(v=Object.getOwnPropertyDescriptor(b,"__filename"))?v.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return v}}),b),N(b,"object",[C],(j=(j=Object.getOwnPropertyDescriptor(b,"object"))?j.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return j}}),b),N(b,"specification",[U],(O=(O=Object.getOwnPropertyDescriptor(b,"specification"))?O.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return O}}),b),N(b,"specEtag",[U],(S=(S=Object.getOwnPropertyDescriptor(b,"specEtag"))?S.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return S}}),b),P=N(b.prototype,"_appRouterFactory",[y,U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N(b.prototype,"_appRouter",[U],Object.getOwnPropertyDescriptor(b.prototype,"_appRouter"),b.prototype),z=N(b.prototype,"_swaggerGatewayFactory",[f,U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N(b.prototype,"_swaggerGateway",[U],Object.getOwnPropertyDescriptor(b.prototype,"_swaggerGateway"),b.prototype),N(b.prototype,"index",[F],Object.getOwnPropertyDescriptor(b.prototype,"index"),b.prototype),N(b.prototype,"static",[F],Object.getOwnPropertyDescriptor(b.prototype,"static"),b.prototype),N(b.prototype,"spec",[F],Object.getOwnPropertyDescriptor(b.prototype,"spec"),b.prototype),N(b.prototype,"swaggerifyPath",[G],Object.getOwnPropertyDescriptor(b.prototype,"swaggerifyPath"),b.prototype),N(b.prototype,"buildSwaggerPaths",[G],Object.getOwnPropertyDescriptor(b.prototype,"buildSwaggerPaths"),b.prototype),N(b.prototype,"buildOperation",[G],Object.getOwnPropertyDescriptor(b.prototype,"buildOperation"),b.prototype),N(b.prototype,"swaggerifyType",[G],Object.getOwnPropertyDescriptor(b.prototype,"swaggerifyType"),b.prototype),N(b.prototype,"swaggerifyParam",[G],Object.getOwnPropertyDescriptor(b.prototype,"swaggerifyParam"),b.prototype),N(b.prototype,"swaggerifyBody",[G],Object.getOwnPropertyDescriptor(b.prototype,"swaggerifyBody"),b.prototype),N(b.prototype,"joi2schema",[G],Object.getOwnPropertyDescriptor(b.prototype,"joi2schema"),b.prototype),d=b))||d)||d)}(c=function(e){var t,r,n,i,o,a,c,u,l=e.NS,y=l.Proxy,f=l.initialize,d=l.partOf,b=l.meta,v=l.property,w=l.method,j=l.nameBy,O=l.Utils,_=O.inflect,P=O.assign;f(t=d(e)((u=c=function(e){m(r,e);var t=h(r);function r(){var e;s(this,r),E(e=t.apply(this,arguments),"_knownEndpoints",o,g(e)),E(e,"_schemas",a,g(e)),e._schemas={};var n=/\.js$/,i=function(){try{return filesListSync(e._endpointsPath)}catch(e){}}();return e._knownEndpoints=null!=i?i.filter((function(e){return n.test(e)})).map((function(e){return e.replace(n,"")})):[],e}return p(r,[{key:"tryLoadEndpoint",value:function(e){if(S.call(this._knownEndpoints,e)>=0){var t="".concat(this._endpointsPath,"/").concat(e);try{return require(t)(this.ApplicationModule)}catch(e){}}}},{key:"getEndpointByName",value:function(e){return this.ApplicationModule.NS[e]||this.tryLoadEndpoint(e)}},{key:"getEndpointName",value:function(e,t){var r="".concat(e,"_").concat(t,"_endpoint").replace(/\//g,"_").replace(/\_+/g,"_");return _.camelize(r)}},{key:"getStandardActionEndpoint",value:function(e,t){var r="".concat(_.camelize(t),"Endpoint");return this.ApplicationModule.NS[r]||this.ApplicationModule.NS.Endpoint}},{key:"getEndpoint",value:function(e,t){var r=this.getEndpointName(e,t);return this.getEndpointByName(r)||this.getStandardActionEndpoint(e,t)}},{key:"swaggerDefinitionFor",value:function(e,t,r){var n=this.getEndpoint(e,t),i=P({},r,{gateway:this});return n.new(i)}},{key:"getSchema",value:function(e){return null==this._schemas[e]&&(this._schemas[e]=this.ApplicationModule.NS[e].schema),this._schemas[e]}},{key:"_endpointsPath",get:function(){return"".concat(this.ApplicationModule.NS.ROOT,"/endpoints")}}]),r}(y),c.__filename="/proxies/SwaggerGateway.js",c.object={},N(r=u,"__filename",[j],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[b],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),o=N(r.prototype,"_knownEndpoints",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=N(r.prototype,"_schemas",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N(r.prototype,"_endpointsPath",[v],Object.getOwnPropertyDescriptor(r.prototype,"_endpointsPath"),r.prototype),N(r.prototype,"tryLoadEndpoint",[w],Object.getOwnPropertyDescriptor(r.prototype,"tryLoadEndpoint"),r.prototype),N(r.prototype,"getEndpointByName",[w],Object.getOwnPropertyDescriptor(r.prototype,"getEndpointByName"),r.prototype),N(r.prototype,"getEndpointName",[w],Object.getOwnPropertyDescriptor(r.prototype,"getEndpointName"),r.prototype),N(r.prototype,"getStandardActionEndpoint",[w],Object.getOwnPropertyDescriptor(r.prototype,"getStandardActionEndpoint"),r.prototype),N(r.prototype,"getEndpoint",[w],Object.getOwnPropertyDescriptor(r.prototype,"getEndpoint"),r.prototype),N(r.prototype,"swaggerDefinitionFor",[w],Object.getOwnPropertyDescriptor(r.prototype,"swaggerDefinitionFor"),r.prototype),N(r.prototype,"getSchema",[w],Object.getOwnPropertyDescriptor(r.prototype,"getSchema"),r.prototype),t=r))||t)}(c=function(e){var t,r,n,i,o,a,c=e.NS,u=c.Router,l=c.initialize,y=c.partOf,f=c.nameBy,d=c.meta,g=c.method;l(t=y(e)((a=o=function(e){m(r,e);var t=h(r);function r(){return s(this,r),t.apply(this,arguments)}return p(r,[{key:"map",value:function(){this.namespace("swagger",{module:"",prefix:"swagger"},(function(){this.get("/",{to:"swagger#index",recordName:null}),this.get("/swagger.json",{to:"swagger#spec",recordName:null}),this.get("/*",{to:"swagger#static",recordName:null})}))}}]),r}(u),o.__filename="/proxies/SwaggerRouter.js",o.object={},N(r=a,"__filename",[f],(n=(n=Object.getOwnPropertyDescriptor(r,"__filename"))?n.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return n}}),r),N(r,"object",[d],(i=(i=Object.getOwnPropertyDescriptor(r,"object"))?i.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return i}}),r),N(r.prototype,"map",[g],Object.getOwnPropertyDescriptor(r.prototype,"map"),r.prototype),t=r))||t)}(c=l((q=x=function(e){m(r,e);var t=h(r);function r(){var e;s(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return E(e=t.call.apply(t,[this].concat(i)),"SWAGGER_ROUTER",z,g(e)),E(e,"SWAGGER_GATEWAY",D,g(e)),e}return r}(e),x.object={},N(O=q,"object",[d],(P=(P=Object.getOwnPropertyDescriptor(O,"object"))?P.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return P}}),O),z=N(O.prototype,"SWAGGER_ROUTER",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"SwaggerRouter"}}),D=N(O.prototype,"SWAGGER_GATEWAY",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"SwaggerGateway"}}),c=O))||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c)||c}]};
